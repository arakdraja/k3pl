<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="lap_safety_metrics" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="PREV_YEAR" class="java.lang.String"/>
	<parameter name="PREV_MONTH" class="java.lang.String"/>
	<parameter name="YEAR" class="java.lang.String"/>
	<parameter name="MONTH" class="java.lang.String"/>
	<parameter name="ID_DIR" class="java.lang.String"/>
	<parameter name="ID_DIV" class="java.lang.String"/>
	<parameter name="CLAUSE_DIR_1" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{ID_DIR} != null && ! $P{ID_DIR}.isEmpty() && ! $P{ID_DIR}.equalsIgnoreCase( "0" ) ?
    " and id_area_direktorat = " + $P{ID_DIR} : " "]]></defaultValueExpression>
	</parameter>
	<parameter name="CLAUSE_DIV_1" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{ID_DIV} != null && ! $P{ID_DIV}.isEmpty() && ! $P{ID_DIV}.equalsIgnoreCase( "0" ) ?
    " and id_area_divprosbu = " + $P{ID_DIV} : " "]]></defaultValueExpression>
	</parameter>
	<parameter name="CLAUSE_DIR_2" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{ID_DIR} != null && ! $P{ID_DIR}.isEmpty() && ! $P{ID_DIR}.equalsIgnoreCase( "0" ) ?
    " and a.auditor_direktorat = " + $P{ID_DIR} : " "]]></defaultValueExpression>
	</parameter>
	<parameter name="CLAUSE_DIV_2" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{ID_DIV} != null && ! $P{ID_DIV}.isEmpty() && ! $P{ID_DIV}.equalsIgnoreCase( "0" ) ?
    " and a.auditor_divprosbu = " + $P{ID_DIV} : " "]]></defaultValueExpression>
	</parameter>
	<parameter name="CLAUSE_DIR_3" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{ID_DIR} != null && ! $P{ID_DIR}.isEmpty() && ! $P{ID_DIR}.equalsIgnoreCase( "0" ) ?
    " and b.id_direktorat = " + $P{ID_DIR} : " "]]></defaultValueExpression>
	</parameter>
	<parameter name="CLAUSE_DIV_3" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{ID_DIV} != null && ! $P{ID_DIV}.isEmpty() && ! $P{ID_DIV}.equalsIgnoreCase( "0" ) ?
    " and b.id_divprosbu = " + $P{ID_DIV} : " "]]></defaultValueExpression>
	</parameter>
	<parameter name="CLAUSE_DIR_4" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{ID_DIR} != null && ! $P{ID_DIR}.isEmpty() && ! $P{ID_DIR}.equalsIgnoreCase( "0" ) ?
    " and x.penanggung_jawab_direktorat = " + $P{ID_DIR} : " "]]></defaultValueExpression>
	</parameter>
	<parameter name="CLAUSE_DIV_4" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{ID_DIV} != null && ! $P{ID_DIV}.isEmpty() && ! $P{ID_DIV}.equalsIgnoreCase( "0" ) ?
    " and x.penanggung_jawab_divprosbu = " + $P{ID_DIV} : " "]]></defaultValueExpression>
	</parameter>
	<parameter name="CLAUSE_DIR_5" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{ID_DIR} != null && ! $P{ID_DIR}.isEmpty() && ! $P{ID_DIR}.equalsIgnoreCase( "0" ) ?
    " and x.id_area_direktorat = " + $P{ID_DIR} : " "]]></defaultValueExpression>
	</parameter>
	<parameter name="CLAUSE_DIV_5" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{ID_DIV} != null && ! $P{ID_DIV}.isEmpty() && ! $P{ID_DIV}.equalsIgnoreCase( "0" ) ?
    " and x.id_area_divprosbu = " + $P{ID_DIV} : " "]]></defaultValueExpression>
	</parameter>
	<parameter name="CLAUSE_QUERY_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["select 2                       as NO_URUT " +
",      ' ' + nama_direktorat   as ITEM " +
",      ( " +
"       select	cast(isnull(sum(b.jml_korban_mati) " +
"                       +	sum(b.jml_korban_berat) " +
"                       +	sum(b.jml_korban_sedang) " +
"                       +	sum(b.jml_korban_dampak) " +
"                       +	sum(b.jml_korban_medis) " +
"                       +	sum(b.jml_korban_p3k) " +
"                       +	sum(b.jml_hampir_celaka) " +
"               , 0) as varchar) " +
"       from	t_insiden   as b " +
"       where	b.bulan               = " + $P{MONTH} +
"       and     b.tahun               = " + $P{YEAR} +
"       and     b.id_area_direktorat  = a.id_direktorat " +
"       )  as JML_INSIDEN_CEDERA " +
",      ( " +
"       select	cast(isnull(sum(b.jml_bakar_ledak_bocor) " +
"                       +	sum(b.jml_rusak_jaringan) " +
"               , 0) as varchar) " +
"       from	t_insiden   as b " +
"       where	b.bulan               = " + $P{MONTH} +
"       and     b.tahun               = " + $P{YEAR} +
"       and     b.id_area_direktorat  = a.id_direktorat " +
"       )  as JML_INSIDEN_JARINGAN " +
",      ( " +
"       select	cast(isnull(sum(b.jml_rusak_kendaraan) " +
"                       +	sum(b.jml_kecelakaan_kendaraan) " +
"               , 0) as varchar) " +
"       from	t_insiden   as b " +
"       where	b.bulan               = " + $P{MONTH} +
"       and     b.tahun               = " + $P{YEAR} +
"       and     b.id_area_direktorat  = a.id_direktorat " +
"       )   as JML_INSIDEN_TRAFIK " +
",      ( " +
"       select round((P.JML_PARTISIPASI / CAST(ISNULL(NULLIF(T.JML_TARGET, 0), 1) as float)) * 100, 2) as PARTISIPASI " +
"       from	( " +
"               select	COUNT(y.NIPG)	as JML_PARTISIPASI " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_AUDITOR	as y " +
"                   ,	R_PEGAWAI		as z " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		y.STATUS				in (1,2) " +
"               and		y.NIPG					= z.NIPG " +
"               and		z.STATUS_PEGAWAI		= '1' " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	= " + $P{MONTH} +
"               and     x.auditor_direktorat    = a.id_direktorat " +
"               ) as P " +
"           ,	( " +
"               select	case " + $P{MONTH} +
"                           when	1	then isnull(SUM(x.JAN),1) " +
"                           when	2	then isnull(SUM(x.FEB),1) " +
"                           when	3	then isnull(SUM(x.MAR),1) " +
"                           when	4	then isnull(SUM(x.APR),1) " +
"                           when	5	then isnull(SUM(x.MAY),1) " +
"                           when	6	then isnull(SUM(x.JUN),1) " +
"                           when	7	then isnull(SUM(x.JUL),1) " +
"                           when	8	then isnull(SUM(x.AUG),1) " +
"                           when	9	then isnull(SUM(x.SEP),1) " +
"                           when	10	then isnull(SUM(x.OCT),1) " +
"                           when	11	then isnull(SUM(x.NOV),1) " +
"                           when	12	then isnull(SUM(x.DEC),1) " +
"                       end as JML_TARGET " +
"               from	T_RCA_TARGET_PEGAWAI	as x " +
"                   ,	R_PEGAWAI				as y " +
"               where	x.NIPG					= y.NIPG " +
"               and		x.YEAR					= " + $P{YEAR} +
"               and		y.STATUS_PEGAWAI		= '1' " +
"               and     y.id_direktorat         = a.id_direktorat " +
"               ) as T " +
"       )   as PERCENT_PARTISIPASI_RCA " +
",      ( " +
"       select	CAST(ISNULL(SUM(y.NUMBER_OF_VIOLATIONS), 0) as varchar) as JML_VIOLATION " +
"       from	T_RCA			as x " +
"           ,	T_RCA_DETAIL	as y " +
"       where	x.ID_RCA                        = y.ID_RCA " +
"       and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"       and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"       and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"       )   as VIOLATION " +
",      ( " +
"       select	convert(decimal(18,2), case when sum(y.li_45) is null then 0 else (1.0 * (sum(y.li_45) * 100) / isnull(sum(y.number_of_violations),1)) end) " +
"       from	t_rca			as x " +
"           ,	t_rca_detail	as y " +
"       where	x.id_rca                        = y.id_rca " +
"       and		year(x.tanggal_rca)             = " + $P{YEAR} +
"       and		month(x.tanggal_rca)            = " + $P{MONTH} +
"       and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"       )   as PERCENT_45 " +
",      ( " +
"       select	round((TL_TEMUAN_45.JUMLAH / cast(isnull(nullif(TEMUAN_45.JUMLAH,0),1) as float)) * 100, 2, 1) as PERBAIKAN_TEMUAN_45 " +
"       from	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA                        = y.ID_RCA " +
"               and		y.ID_SEVERITY                   in (4,5) " +
"               and		y.STATUS                        = '3' " +
"               and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"               and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"               )	as TL_TEMUAN_45 " +
"           ,	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA                        = y.ID_RCA " +
"               and		y.ID_SEVERITY                   in (4,5) " +
"               and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"               and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"               )	as TEMUAN_45 " +
"       )   as PERCENT_PERBAIKAN_TEMUAN_45 " +
",      ( " +
"       select	cast(convert(decimal(18,2), case when sum(y.violation_x_severity) is null then 0 else (1.0 * sum(y.violation_x_severity) / isnull(sum(y.number_of_violations),1)) end) as varchar)" +
"       from	t_rca			as x " +
"           ,	t_rca_detail	as y " +
"       where	x.id_rca                        = y.id_rca " +
"       and		year(x.tanggal_rca)             = " + $P{YEAR} +
"       and		month(x.tanggal_rca)            = " + $P{MONTH} +
"       and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"       )   as AVERAGE_OF_SEVERITY " +
",      ( " +
"       select round((P.JML_PARTISIPASI / CAST(ISNULL(NULLIF(T.JML_TARGET, 0), 1) as float)) * 100, 2) as PARTISIPASI " +
"       from	( " +
"               select	COUNT(x.NIPG)	as JML_PARTISIPASI " +
"               from	T_STOP			as x " +
"                   ,	R_PEGAWAI		as y " +
"               where	x.NIPG              = y.NIPG " +
"               and		y.STATUS_PEGAWAI    = '1' " +
"               and		x.STATUS            in (1,2) " +
"               and		x.STATUS_AKTIF      = '1' " +
"               and		YEAR(x.TANGGAL)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL)    = " + $P{MONTH} +
"               and     x.id_direktorat     = a.id_direktorat " +
"               ) as P " +
"           ,	( " +
"               select	case " + $P{MONTH} +
"                           when	1	then isnull(SUM(x.JAN),1) " +
"                           when	2	then isnull(SUM(x.FEB),1) " +
"                           when	3	then isnull(SUM(x.MAR),1) " +
"                           when	4	then isnull(SUM(x.APR),1) " +
"                           when	5	then isnull(SUM(x.MAY),1) " +
"                           when	6	then isnull(SUM(x.JUN),1) " +
"                           when	7	then isnull(SUM(x.JUL),1) " +
"                           when	8	then isnull(SUM(x.AUG),1) " +
"                           when	9	then isnull(SUM(x.SEP),1) " +
"                           when	10	then isnull(SUM(x.OCT),1) " +
"                           when	11	then isnull(SUM(x.NOV),1) " +
"                           when	12	then isnull(SUM(x.DEC),1) " +
"                       end as JML_TARGET " +
"               from	T_STOP_TARGET_PEGAWAI	as x " +
"                   ,	R_PEGAWAI				as y " +
"               where	x.NIPG					= y.NIPG " +
"               and		x.YEAR					= " + $P{YEAR} +
"               and		y.STATUS_PEGAWAI		= '1' " +
"               and     y.id_direktorat         = a.id_direktorat " +
"               ) as T " +
"       )   as PERCENT_PARTISIPASI_OBSERVASI " +
",      ( " +
"       select  cast(convert(decimal(18,2),round((UNSAFE.JML_UNSAFE / (case WAKTU.JML_WAKTU when 0 then 1.00 else WAKTU.JML_WAKTU * 1.00 end)), 2, 1)) as varchar) " +
"       from	( " +
"               select	ISNULL(SUM(y.JUMLAH_UNSAFE),0)	as JML_UNSAFE " +
"               from	T_STOP			as x " +
"                   ,	T_STOP_DETAIL   as y " +
"                   ,	R_PEGAWAI		as z " +
"               where	x.ID_STOP               = y.ID_STOP " +
"               and     x.NIPG                  = z.NIPG " +
"               and		z.STATUS_PEGAWAI        = '1' " +
"               and		x.STATUS_AKTIF          = '1' " +
"               and		YEAR(x.TANGGAL)         = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL)        = " + $P{MONTH} +
"               and     x.id_area_direktorat    = a.id_direktorat " +
"               )   as UNSAFE " +
"           ,	( " +
"               select	ISNULL(SUM(x.LAMA_OBSERVASI),0)	as JML_WAKTU " +
"               from	T_STOP			as x " +
"                   ,	R_PEGAWAI		as y " +
"               where	x.NIPG                  = y.NIPG " +
"               and		y.STATUS_PEGAWAI        = '1' " +
"               and		x.STATUS_AKTIF          = '1' " +
"               and		YEAR(x.TANGGAL)         = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL)        = " + $P{MONTH} +
"               and     x.id_area_direktorat    = a.id_direktorat " +
"               )   as WAKTU " +
"       )   as UNSAFE_ACT_PER_HOUR " +
",      ( " +
"       select	cast(convert(decimal(18,2), " +
"                   case when sum(y.jumlah_unsafe) is null " +
"                   then 0 " +
"                   else (1.0 * (sum(y.jumlah_unsafe) * 100)) " +
"                   end " +
"               / isnull((sum(y.jumlah_unsafe) + sum(y.jumlah_safe)),1)) as varchar) " +
"       from    t_stop          as x " +
"           ,	t_stop_detail	as y " +
"           ,	r_pegawai       as z " +
"       where	x.id_stop                   = y.id_stop " +
"       and     x.nipg                      = z.nipg " +
"       and		z.status_pegawai            = '1' " +
"       and		x.status_aktif              = '1' " +
"       and		year(x.tanggal)             = " + $P{YEAR} +
"       and		month(x.tanggal)            = " + $P{MONTH} +
"       and     x.id_area_direktorat        = a.id_direktorat " +
"       )   as UNSAFE_ACT_INDEX " +
",      ( " +
"       select	COUNT(y.ID_RCA)	as JUMLAH " +
"       from	T_RCA			as x " +
"           ,	T_RCA_DETAIL	as y " +
"       where	x.ID_RCA                        = y.ID_RCA " +
"       and		y.STATUS                        in ('2','3') " +
"       and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"       and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"       and     x.PENANGGUNG_JAWAB_DIREKTORAT   = a.id_direktorat " +
"       )   as JML_TINDAK_LANJUT_RCA " +
",      ( " +
"       select	round((TL_TEMUAN.JUMLAH / cast(isnull(nullif(TEMUAN.JUMLAH,0),1) as float)) * 100, 2, 1) as PERBAIKAN_TEMUAN " +
"       from	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA                        = y.ID_RCA " +
"               and		y.STATUS                        = '3' " +
"               and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"               and     x.PENANGGUNG_JAWAB_DIREKTORAT   = a.id_direktorat " +
"               )	as TL_TEMUAN " +
"           ,	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				=       y.ID_RCA " +
"               and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"               and     x.PENANGGUNG_JAWAB_DIREKTORAT   = a.id_direktorat " +
"               )	as TEMUAN " +
"       )   as PERCENT_TINDAK_LANJUT_SELESAI " +
"from   r_direktorat    as a " +
"union "]]></defaultValueExpression>
	</parameter>
	<parameter name="CLAUSE_QUERY_DIV" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["select 2                       as NO_URUT " +
",      ' ' + nama_divprosbu    as ITEM " +
",      ( " +
"       select	cast(isnull(sum(b.jml_korban_mati) " +
"                       +	sum(b.jml_korban_berat) " +
"                       +	sum(b.jml_korban_sedang) " +
"                       +	sum(b.jml_korban_dampak) " +
"                       +	sum(b.jml_korban_medis) " +
"                       +	sum(b.jml_korban_p3k) " +
"                       +	sum(b.jml_hampir_celaka) " +
"               , 0) as varchar) " +
"       from	t_insiden   as b " +
"       where	b.bulan               = " + $P{MONTH} +
"       and     b.tahun               = " + $P{YEAR} +
"       and     b.id_area_direktorat  = a.id_direktorat " +
"       and     b.id_area_divprosbu   = a.id_divprosbu " +
"       )  as JML_INSIDEN_CEDERA " +
",      ( " +
"       select	cast(isnull(sum(b.jml_bakar_ledak_bocor) " +
"                       +	sum(b.jml_rusak_jaringan) " +
"               , 0) as varchar) " +
"       from	t_insiden   as b " +
"       where	b.bulan               = " + $P{MONTH} +
"       and     b.tahun               = " + $P{YEAR} +
"       and     b.id_area_direktorat  = a.id_direktorat " +
"       and     b.id_area_divprosbu   = a.id_divprosbu " +
"       )  as JML_INSIDEN_JARINGAN " +
",      ( " +
"       select	cast(isnull(sum(b.jml_rusak_kendaraan) " +
"                       +	sum(b.jml_kecelakaan_kendaraan) " +
"               , 0) as varchar) " +
"       from	t_insiden   as b " +
"       where	b.bulan               = " + $P{MONTH} +
"       and     b.tahun               = " + $P{YEAR} +
"       and     b.id_area_direktorat  = a.id_direktorat " +
"       and     b.id_area_divprosbu   = a.id_divprosbu " +
"       )   as JML_INSIDEN_TRAFIK " +
",      ( " +
"       select round((P.JML_PARTISIPASI / CAST(ISNULL(NULLIF(T.JML_TARGET, 0), 1) as float)) * 100, 2) as PARTISIPASI " +
"       from	( " +
"               select	COUNT(y.NIPG)	as JML_PARTISIPASI " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_AUDITOR	as y " +
"                   ,	R_PEGAWAI		as z " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		y.STATUS				in (1,2) " +
"               and		y.NIPG					= z.NIPG " +
"               and		z.STATUS_PEGAWAI		= '1' " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	= " + $P{MONTH} +
"               and     x.auditor_direktorat    = a.id_direktorat " +
"               and     x.auditor_divprosbu     = a.id_divprosbu " +
"               ) as P " +
"           ,	( " +
"               select	case " + $P{MONTH} +
"                           when	1	then isnull(SUM(x.JAN),1) " +
"                           when	2	then isnull(SUM(x.FEB),1) " +
"                           when	3	then isnull(SUM(x.MAR),1) " +
"                           when	4	then isnull(SUM(x.APR),1) " +
"                           when	5	then isnull(SUM(x.MAY),1) " +
"                           when	6	then isnull(SUM(x.JUN),1) " +
"                           when	7	then isnull(SUM(x.JUL),1) " +
"                           when	8	then isnull(SUM(x.AUG),1) " +
"                           when	9	then isnull(SUM(x.SEP),1) " +
"                           when	10	then isnull(SUM(x.OCT),1) " +
"                           when	11	then isnull(SUM(x.NOV),1) " +
"                           when	12	then isnull(SUM(x.DEC),1) " +
"                       end as JML_TARGET " +
"               from	T_RCA_TARGET_PEGAWAI	as x " +
"                   ,	R_PEGAWAI				as y " +
"               where	x.NIPG					= y.NIPG " +
"               and		x.YEAR					= " + $P{YEAR} +
"               and		y.STATUS_PEGAWAI		= '1' " +
"               and     y.id_direktorat         = a.id_direktorat " +
"               and     y.id_divprosbu          = a.id_divprosbu " +
"               ) as T " +
"       )   as PERCENT_PARTISIPASI_RCA " +
",      ( " +
"       select	CAST(ISNULL(SUM(y.NUMBER_OF_VIOLATIONS), 0) as varchar) as JML_VIOLATION " +
"       from	T_RCA			as x " +
"           ,	T_RCA_DETAIL	as y " +
"       where	x.ID_RCA                        = y.ID_RCA " +
"       and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"       and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"       and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"       and     x.penanggung_jawab_divprosbu    = a.id_divprosbu " +
"       )   as VIOLATION " +
",      ( " +
"       select	convert(decimal(18,2), case when sum(y.li_45) is null then 0 else (1.0 * (sum(y.li_45) * 100) / isnull(sum(y.number_of_violations),1)) end) " +
"       from	t_rca			as x " +
"           ,	t_rca_detail	as y " +
"       where	x.id_rca                        = y.id_rca " +
"       and		year(x.tanggal_rca)             = " + $P{YEAR} +
"       and		month(x.tanggal_rca)            = " + $P{MONTH} +
"       and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"       and     x.penanggung_jawab_divprosbu    = a.id_divprosbu " +
"       )   as PERCENT_45 " +
",      ( " +
"       select	round((TL_TEMUAN_45.JUMLAH / cast(isnull(nullif(TEMUAN_45.JUMLAH,0),1) as float)) * 100, 2, 1) as PERBAIKAN_TEMUAN_45 " +
"       from	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA                        = y.ID_RCA " +
"               and		y.ID_SEVERITY                   in (4,5) " +
"               and		y.STATUS                        = '3' " +
"               and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"               and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"               and     x.penanggung_jawab_divprosbu    = a.id_divprosbu " +
"               )	as TL_TEMUAN_45 " +
"           ,	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA                        = y.ID_RCA " +
"               and		y.ID_SEVERITY                   in (4,5) " +
"               and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"               and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"               and     x.penanggung_jawab_divprosbu    = a.id_divprosbu " +
"               )	as TEMUAN_45 " +
"       )   as PERCENT_PERBAIKAN_TEMUAN_45 " +
",      ( " +
"       select	cast(convert(decimal(18,2), case when sum(y.violation_x_severity) is null then 0 else (1.0 * sum(y.violation_x_severity) / isnull(sum(y.number_of_violations),1)) end) as varchar)" +
"       from	t_rca			as x " +
"           ,	t_rca_detail	as y " +
"       where	x.id_rca                        = y.id_rca " +
"       and		year(x.tanggal_rca)             = " + $P{YEAR} +
"       and		month(x.tanggal_rca)            = " + $P{MONTH} +
"       and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"       and     x.penanggung_jawab_divprosbu    = a.id_divprosbu " +
"       )   as AVERAGE_OF_SEVERITY " +
",      ( " +
"       select round((P.JML_PARTISIPASI / CAST(ISNULL(NULLIF(T.JML_TARGET, 0), 1) as float)) * 100, 2) as PARTISIPASI " +
"       from	( " +
"               select	COUNT(x.NIPG)	as JML_PARTISIPASI " +
"               from	T_STOP			as x " +
"                   ,	R_PEGAWAI		as y " +
"               where	x.NIPG              = y.NIPG " +
"               and		y.STATUS_PEGAWAI    = '1' " +
"               and		x.STATUS            in (1,2) " +
"               and		x.STATUS_AKTIF      = '1' " +
"               and		YEAR(x.TANGGAL)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL)    = " + $P{MONTH} +
"               and     x.id_direktorat     = a.id_direktorat " +
"               and     x.id_divprosbu      = a.id_divprosbu " +
"               ) as P " +
"           ,	( " +
"               select	case " + $P{MONTH} +
"                           when	1	then isnull(SUM(x.JAN),1) " +
"                           when	2	then isnull(SUM(x.FEB),1) " +
"                           when	3	then isnull(SUM(x.MAR),1) " +
"                           when	4	then isnull(SUM(x.APR),1) " +
"                           when	5	then isnull(SUM(x.MAY),1) " +
"                           when	6	then isnull(SUM(x.JUN),1) " +
"                           when	7	then isnull(SUM(x.JUL),1) " +
"                           when	8	then isnull(SUM(x.AUG),1) " +
"                           when	9	then isnull(SUM(x.SEP),1) " +
"                           when	10	then isnull(SUM(x.OCT),1) " +
"                           when	11	then isnull(SUM(x.NOV),1) " +
"                           when	12	then isnull(SUM(x.DEC),1) " +
"                       end as JML_TARGET " +
"               from	T_STOP_TARGET_PEGAWAI	as x " +
"                   ,	R_PEGAWAI				as y " +
"               where	x.NIPG					= y.NIPG " +
"               and		x.YEAR					= " + $P{YEAR} +
"               and		y.STATUS_PEGAWAI		= '1' " +
"               and     y.id_direktorat         = a.id_direktorat " +
"               and     y.id_divprosbu          = a.id_divprosbu " +
"               ) as T " +
"       )   as PERCENT_PARTISIPASI_OBSERVASI " +
",      ( " +
"       select  cast(convert(decimal(18,2),round((UNSAFE.JML_UNSAFE / (case WAKTU.JML_WAKTU when 0 then 1.00 else WAKTU.JML_WAKTU * 1.00 end)), 2, 1)) as varchar) " +
"       from	( " +
"               select	ISNULL(SUM(y.JUMLAH_UNSAFE),0)	as JML_UNSAFE " +
"               from	T_STOP			as x " +
"                   ,	T_STOP_DETAIL   as y " +
"                   ,	R_PEGAWAI		as z " +
"               where	x.ID_STOP               = y.ID_STOP " +
"               and     x.NIPG                  = z.NIPG " +
"               and		z.STATUS_PEGAWAI        = '1' " +
"               and		x.STATUS_AKTIF          = '1' " +
"               and		YEAR(x.TANGGAL)         = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL)        = " + $P{MONTH} +
"               and     x.id_area_direktorat    = a.id_direktorat " +
"               and     x.id_area_divprosbu     = a.id_divprosbu " +
"               )   as UNSAFE " +
"           ,	( " +
"               select	ISNULL(SUM(x.LAMA_OBSERVASI),0)	as JML_WAKTU " +
"               from	T_STOP			as x " +
"                   ,	R_PEGAWAI		as y " +
"               where	x.NIPG                  = y.NIPG " +
"               and		y.STATUS_PEGAWAI        = '1' " +
"               and		x.STATUS_AKTIF          = '1' " +
"               and		YEAR(x.TANGGAL)         = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL)        = " + $P{MONTH} +
"               and     x.id_area_direktorat    = a.id_direktorat " +
"               and     x.id_area_divprosbu     = a.id_divprosbu " +
"               )   as WAKTU " +
"       )   as UNSAFE_ACT_PER_HOUR " +
",      ( " +
"       select	cast(convert(decimal(18,2), " +
"                   case when sum(y.jumlah_unsafe) is null " +
"                   then 0 " +
"                   else (1.0 * (sum(y.jumlah_unsafe) * 100)) " +
"                   end " +
"               / isnull((sum(y.jumlah_unsafe) + sum(y.jumlah_safe)),1)) as varchar) " +
"       from    t_stop          as x " +
"           ,	t_stop_detail	as y " +
"           ,	r_pegawai       as z " +
"       where	x.id_stop                   = y.id_stop " +
"       and     x.nipg                      = z.nipg " +
"       and		z.status_pegawai            = '1' " +
"       and		x.status_aktif              = '1' " +
"       and		year(x.tanggal)             = " + $P{YEAR} +
"       and		month(x.tanggal)            = " + $P{MONTH} +
"       and     x.id_area_direktorat        = a.id_direktorat " +
"       and     x.id_area_divprosbu         = a.id_divprosbu " +
"       )   as UNSAFE_ACT_INDEX " +
",      ( " +
"       select	COUNT(y.ID_RCA)	as JUMLAH " +
"       from	T_RCA			as x " +
"           ,	T_RCA_DETAIL	as y " +
"       where	x.ID_RCA                        = y.ID_RCA " +
"       and		y.STATUS                        in ('2','3') " +
"       and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"       and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"       and     x.PENANGGUNG_JAWAB_DIREKTORAT   = a.id_direktorat " +
"       and     x.PENANGGUNG_JAWAB_DIVPROSBU    = a.id_divprosbu " +
"       )   as JML_TINDAK_LANJUT_RCA " +
",      ( " +
"       select	round((TL_TEMUAN.JUMLAH / cast(isnull(nullif(TEMUAN.JUMLAH,0),1) as float)) * 100, 2, 1) as PERBAIKAN_TEMUAN " +
"       from	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA                        = y.ID_RCA " +
"               and		y.STATUS                        = '3' " +
"               and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"               and     x.PENANGGUNG_JAWAB_DIREKTORAT   = a.id_direktorat " +
"               and     x.PENANGGUNG_JAWAB_DIVPROSBU    = a.id_divprosbu " +
"               )	as TL_TEMUAN " +
"           ,	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	= " + $P{MONTH} +
"               and     x.PENANGGUNG_JAWAB_DIREKTORAT   = a.id_direktorat " +
"               and     x.PENANGGUNG_JAWAB_DIVPROSBU    = a.id_divprosbu " +
"               )	as TEMUAN " +
"       )   as PERCENT_TINDAK_LANJUT_SELESAI " +
"from   r_divprosbu     as a " +
"where  a.id_direktorat = " + $P{ID_DIR} + " " +
"union "]]></defaultValueExpression>
	</parameter>
	<parameter name="CLAUSE_QUERY_DEP" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["select 2                       as NO_URUT " +
",      ' ' + nama_departemen   as ITEM " +
",      ( " +
"       select	cast(isnull(sum(b.jml_korban_mati) " +
"                       +	sum(b.jml_korban_berat) " +
"                       +	sum(b.jml_korban_sedang) " +
"                       +	sum(b.jml_korban_dampak) " +
"                       +	sum(b.jml_korban_medis) " +
"                       +	sum(b.jml_korban_p3k) " +
"                       +	sum(b.jml_hampir_celaka) " +
"               , 0) as varchar) " +
"       from	t_insiden   as b " +
"       where	b.bulan                 = " + $P{MONTH} +
"       and     b.tahun                 = " + $P{YEAR} +
"       and     b.id_area_direktorat    = a.id_direktorat " +
"       and     b.id_area_divprosbu     = a.id_divprosbu " +
"       and     b.id_area_departemen    = a.id_departemen " +
"       )  as JML_INSIDEN_CEDERA " +
",      ( " +
"       select	cast(isnull(sum(b.jml_bakar_ledak_bocor) " +
"                       +	sum(b.jml_rusak_jaringan) " +
"               , 0) as varchar) " +
"       from	t_insiden   as b " +
"       where	b.bulan                 = " + $P{MONTH} +
"       and     b.tahun                 = " + $P{YEAR} +
"       and     b.id_area_direktorat    = a.id_direktorat " +
"       and     b.id_area_divprosbu     = a.id_divprosbu " +
"       and     b.id_area_departemen    = a.id_departemen " +
"       )  as JML_INSIDEN_JARINGAN " +
",      ( " +
"       select	cast(isnull(sum(b.jml_rusak_kendaraan) " +
"                       +	sum(b.jml_kecelakaan_kendaraan) " +
"               , 0) as varchar) " +
"       from	t_insiden   as b " +
"       where	b.bulan                 = " + $P{MONTH} +
"       and     b.tahun                 = " + $P{YEAR} +
"       and     b.id_area_direktorat    = a.id_direktorat " +
"       and     b.id_area_divprosbu     = a.id_divprosbu " +
"       and     b.id_area_departemen    = a.id_departemen " +
"       )   as JML_INSIDEN_TRAFIK " +
",      ( " +
"       select round((P.JML_PARTISIPASI / CAST(ISNULL(NULLIF(T.JML_TARGET, 0), 1) as float)) * 100, 2) as PARTISIPASI " +
"       from	( " +
"               select	COUNT(y.NIPG)	as JML_PARTISIPASI " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_AUDITOR	as y " +
"                   ,	R_PEGAWAI		as z " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		y.STATUS				in (1,2) " +
"               and		y.NIPG					= z.NIPG " +
"               and		z.STATUS_PEGAWAI		= '1' " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	= " + $P{MONTH} +
"               and     x.auditor_direktorat    = a.id_direktorat " +
"               and     x.auditor_divprosbu     = a.id_divprosbu " +
"               and     x.auditor_departemen    = a.id_departemen " +
"               ) as P " +
"           ,	( " +
"               select	case " + $P{MONTH} +
"                           when	1	then isnull(SUM(x.JAN),1) " +
"                           when	2	then isnull(SUM(x.FEB),1) " +
"                           when	3	then isnull(SUM(x.MAR),1) " +
"                           when	4	then isnull(SUM(x.APR),1) " +
"                           when	5	then isnull(SUM(x.MAY),1) " +
"                           when	6	then isnull(SUM(x.JUN),1) " +
"                           when	7	then isnull(SUM(x.JUL),1) " +
"                           when	8	then isnull(SUM(x.AUG),1) " +
"                           when	9	then isnull(SUM(x.SEP),1) " +
"                           when	10	then isnull(SUM(x.OCT),1) " +
"                           when	11	then isnull(SUM(x.NOV),1) " +
"                           when	12	then isnull(SUM(x.DEC),1) " +
"                       end as JML_TARGET " +
"               from	T_RCA_TARGET_PEGAWAI	as x " +
"                   ,	R_PEGAWAI				as y " +
"               where	x.NIPG					= y.NIPG " +
"               and		x.YEAR					= " + $P{YEAR} +
"               and		y.STATUS_PEGAWAI		= '1' " +
"               and     y.id_direktorat         = a.id_direktorat " +
"               and     y.id_divprosbu          = a.id_divprosbu " +
"               and     y.id_departemen         = a.id_departemen " +
"               ) as T " +
"       )   as PERCENT_PARTISIPASI_RCA " +
",      ( " +
"       select	CAST(ISNULL(SUM(y.NUMBER_OF_VIOLATIONS), 0) as varchar) as JML_VIOLATION " +
"       from	T_RCA			as x " +
"           ,	T_RCA_DETAIL	as y " +
"       where	x.ID_RCA                        = y.ID_RCA " +
"       and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"       and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"       and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"       and     x.penanggung_jawab_divprosbu    = a.id_divprosbu " +
"       and     x.penanggung_jawab_departemen   = a.id_departemen " +
"       )   as VIOLATION " +
",      ( " +
"       select	convert(decimal(18,2), case when sum(y.li_45) is null then 0 else (1.0 * (sum(y.li_45) * 100) / isnull(sum(y.number_of_violations),1)) end) " +
"       from	t_rca			as x " +
"           ,	t_rca_detail	as y " +
"       where	x.id_rca                        = y.id_rca " +
"       and		year(x.tanggal_rca)             = " + $P{YEAR} +
"       and		month(x.tanggal_rca)            = " + $P{MONTH} +
"       and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"       and     x.penanggung_jawab_divprosbu    = a.id_divprosbu " +
"       and     x.penanggung_jawab_departemen   = a.id_departemen " +
"       )   as PERCENT_45 " +
",      ( " +
"       select	round((TL_TEMUAN_45.JUMLAH / cast(isnull(nullif(TEMUAN_45.JUMLAH,0),1) as float)) * 100, 2, 1) as PERBAIKAN_TEMUAN_45 " +
"       from	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA                        = y.ID_RCA " +
"               and		y.ID_SEVERITY                   in (4,5) " +
"               and		y.STATUS                        = '3' " +
"               and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"               and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"               and     x.penanggung_jawab_divprosbu    = a.id_divprosbu " +
"               and     x.penanggung_jawab_departemen   = a.id_departemen " +
"               )	as TL_TEMUAN_45 " +
"           ,	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA                        = y.ID_RCA " +
"               and		y.ID_SEVERITY                   in (4,5) " +
"               and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"               and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"               and     x.penanggung_jawab_divprosbu    = a.id_divprosbu " +
"               and     x.penanggung_jawab_departemen   = a.id_departemen " +
"               )	as TEMUAN_45 " +
"       )   as PERCENT_PERBAIKAN_TEMUAN_45 " +
",      ( " +
"       select	cast(convert(decimal(18,2), case when sum(y.violation_x_severity) is null then 0 else (1.0 * sum(y.violation_x_severity) / isnull(sum(y.number_of_violations),1)) end) as varchar)" +
"       from	t_rca			as x " +
"           ,	t_rca_detail	as y " +
"       where	x.id_rca                        = y.id_rca " +
"       and		year(x.tanggal_rca)             = " + $P{YEAR} +
"       and		month(x.tanggal_rca)            = " + $P{MONTH} +
"       and     x.penanggung_jawab_direktorat   = a.id_direktorat " +
"       and     x.penanggung_jawab_divprosbu    = a.id_divprosbu " +
"       and     x.penanggung_jawab_departemen   = a.id_departemen " +
"       )   as AVERAGE_OF_SEVERITY " +
",      ( " +
"       select round((P.JML_PARTISIPASI / CAST(ISNULL(NULLIF(T.JML_TARGET, 0), 1) as float)) * 100, 2) as PARTISIPASI " +
"       from	( " +
"               select	COUNT(x.NIPG)	as JML_PARTISIPASI " +
"               from	T_STOP			as x " +
"                   ,	R_PEGAWAI		as y " +
"               where	x.NIPG              = y.NIPG " +
"               and		y.STATUS_PEGAWAI    = '1' " +
"               and		x.STATUS            in (1,2) " +
"               and		x.STATUS_AKTIF      = '1' " +
"               and		YEAR(x.TANGGAL)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL)    = " + $P{MONTH} +
"               and     x.id_direktorat     = a.id_direktorat " +
"               and     x.id_divprosbu      = a.id_divprosbu " +
"               and     x.id_departemen     = a.id_departemen " +
"               ) as P " +
"           ,	( " +
"               select	case " + $P{MONTH} +
"                           when	1	then isnull(SUM(x.JAN),1) " +
"                           when	2	then isnull(SUM(x.FEB),1) " +
"                           when	3	then isnull(SUM(x.MAR),1) " +
"                           when	4	then isnull(SUM(x.APR),1) " +
"                           when	5	then isnull(SUM(x.MAY),1) " +
"                           when	6	then isnull(SUM(x.JUN),1) " +
"                           when	7	then isnull(SUM(x.JUL),1) " +
"                           when	8	then isnull(SUM(x.AUG),1) " +
"                           when	9	then isnull(SUM(x.SEP),1) " +
"                           when	10	then isnull(SUM(x.OCT),1) " +
"                           when	11	then isnull(SUM(x.NOV),1) " +
"                           when	12	then isnull(SUM(x.DEC),1) " +
"                       end as JML_TARGET " +
"               from	T_STOP_TARGET_PEGAWAI	as x " +
"                   ,	R_PEGAWAI				as y " +
"               where	x.NIPG					= y.NIPG " +
"               and		x.YEAR					= " + $P{YEAR} +
"               and		y.STATUS_PEGAWAI		= '1' " +
"               and     y.id_direktorat         = a.id_direktorat " +
"               and     y.id_divprosbu          = a.id_divprosbu " +
"               and     y.id_departemen         = a.id_departemen " +
"               ) as T " +
"       )   as PERCENT_PARTISIPASI_OBSERVASI " +
",      ( " +
"       select  cast(convert(decimal(18,2),round((UNSAFE.JML_UNSAFE / (case WAKTU.JML_WAKTU when 0 then 1.00 else WAKTU.JML_WAKTU * 1.00 end)), 2, 1)) as varchar) " +
"       from	( " +
"               select	ISNULL(SUM(y.JUMLAH_UNSAFE),0)	as JML_UNSAFE " +
"               from	T_STOP			as x " +
"                   ,	T_STOP_DETAIL   as y " +
"                   ,	R_PEGAWAI		as z " +
"               where	x.ID_STOP               = y.ID_STOP " +
"               and     x.NIPG                  = z.NIPG " +
"               and		z.STATUS_PEGAWAI        = '1' " +
"               and		x.STATUS_AKTIF          = '1' " +
"               and		YEAR(x.TANGGAL)         = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL)        = " + $P{MONTH} +
"               and     x.id_area_direktorat    = a.id_direktorat " +
"               and     x.id_area_divprosbu     = a.id_divprosbu " +
"               and     x.id_area_departemen    = a.id_departemen " +
"               )   as UNSAFE " +
"           ,	( " +
"               select	ISNULL(SUM(x.LAMA_OBSERVASI),0)	as JML_WAKTU " +
"               from	T_STOP			as x " +
"                   ,	R_PEGAWAI		as y " +
"               where	x.NIPG                  = y.NIPG " +
"               and		y.STATUS_PEGAWAI        = '1' " +
"               and		x.STATUS_AKTIF          = '1' " +
"               and		YEAR(x.TANGGAL)         = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL)        = " + $P{MONTH} +
"               and     x.id_area_direktorat    = a.id_direktorat " +
"               and     x.id_area_divprosbu     = a.id_divprosbu " +
"               and     x.id_area_departemen    = a.id_departemen " +
"               )   as WAKTU " +
"       )   as UNSAFE_ACT_PER_HOUR " +
",      ( " +
"       select	cast(convert(decimal(18,2), " +
"                   case when sum(y.jumlah_unsafe) is null " +
"                   then 0 " +
"                   else (1.0 * (sum(y.jumlah_unsafe) * 100)) " +
"                   end " +
"               / isnull((sum(y.jumlah_unsafe) + sum(y.jumlah_safe)),1)) as varchar) " +
"       from    t_stop          as x " +
"           ,	t_stop_detail	as y " +
"           ,	r_pegawai       as z " +
"       where	x.id_stop                   = y.id_stop " +
"       and     x.nipg                      = z.nipg " +
"       and		z.status_pegawai            = '1' " +
"       and		x.status_aktif              = '1' " +
"       and		year(x.tanggal)             = " + $P{YEAR} +
"       and		month(x.tanggal)            = " + $P{MONTH} +
"       and     x.id_area_direktorat        = a.id_direktorat " +
"       and     x.id_area_divprosbu         = a.id_divprosbu " +
"       and     x.id_area_departemen        = a.id_departemen " +
"       )   as UNSAFE_ACT_INDEX " +
",      ( " +
"       select	COUNT(y.ID_RCA)	as JUMLAH " +
"       from	T_RCA			as x " +
"           ,	T_RCA_DETAIL	as y " +
"       where	x.ID_RCA                        = y.ID_RCA " +
"       and		y.STATUS                        in ('2','3') " +
"       and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"       and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"       and     x.PENANGGUNG_JAWAB_DIREKTORAT   = a.id_direktorat " +
"       and     x.PENANGGUNG_JAWAB_DIVPROSBU    = a.id_divprosbu " +
"       and     x.PENANGGUNG_JAWAB_DEPARTEMEN   = a.id_departemen " +
"       )   as JML_TINDAK_LANJUT_RCA " +
",      ( " +
"       select	round((TL_TEMUAN.JUMLAH / cast(isnull(nullif(TEMUAN.JUMLAH,0),1) as float)) * 100, 2, 1) as PERBAIKAN_TEMUAN " +
"       from	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA                        = y.ID_RCA " +
"               and		y.STATUS                        = '3' " +
"               and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"               and     x.PENANGGUNG_JAWAB_DIREKTORAT   = a.id_direktorat " +
"               and     x.PENANGGUNG_JAWAB_DIVPROSBU    = a.id_divprosbu " +
"               and     x.PENANGGUNG_JAWAB_DEPARTEMEN   = a.id_departemen " +
"               )	as TL_TEMUAN " +
"           ,	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA                        = y.ID_RCA " +
"               and		YEAR(x.TANGGAL_RCA)             = " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)            = " + $P{MONTH} +
"               and     x.PENANGGUNG_JAWAB_DIREKTORAT   = a.id_direktorat " +
"               and     x.PENANGGUNG_JAWAB_DIVPROSBU    = a.id_divprosbu " +
"               and     x.PENANGGUNG_JAWAB_DEPARTEMEN   = a.id_departemen " +
"               )	as TEMUAN " +
"       )   as PERCENT_TINDAK_LANJUT_SELESAI " +
"from   r_departemen    as a " +
"where  a.id_direktorat = " + $P{ID_DIR} +
"and    a.id_divprosbu  = " + $P{ID_DIV} + " " +
"union "]]></defaultValueExpression>
	</parameter>
	<parameter name="QUERY_1" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["select	1   as NO_URUT " +
",      ( " +
"       select	' ' + datename(month, dateadd(month, " + $P{PREV_MONTH} + ", 0) - 1 ) + ' ' + '" + $P{PREV_YEAR} + "' " +
"       )   as ITEM " +
",      ( " +
"       select	cast(isnull(sum(jml_korban_mati) " +
"                       +	sum(jml_korban_berat) " +
"                       +	sum(jml_korban_sedang) " +
"                       +	sum(jml_korban_dampak) " +
"                       +	sum(jml_korban_medis) " +
"                       +	sum(jml_korban_p3k) " +
"                       +	sum(jml_hampir_celaka) " +
"               , 0) as varchar) " +
"       from	t_insiden " +
"       where	bulan	= " + $P{PREV_MONTH} +
"       and     tahun	= " + $P{PREV_YEAR} + $P{CLAUSE_DIR_1} + $P{CLAUSE_DIV_1} +
"       )  as JML_INSIDEN_CEDERA " +
",      ( " +
"       select	cast(isnull(sum(jml_bakar_ledak_bocor) " +
"                       +	sum(jml_rusak_jaringan) " +
"               , 0) as varchar) " +
"       from	t_insiden " +
"       where	bulan	= " + $P{PREV_MONTH} +
"       and     tahun	= " + $P{PREV_YEAR} + $P{CLAUSE_DIR_1} + $P{CLAUSE_DIV_1} +
"       )   as JML_INSIDEN_JARINGAN " +
",      ( " +
"       select	cast(isnull(sum(jml_rusak_kendaraan) " +
"                       +	sum(jml_kecelakaan_kendaraan) " +
"               , 0) as varchar) " +
"       from	t_insiden " +
"       where	bulan	= " + $P{PREV_MONTH} +
"       and     tahun	= " + $P{PREV_YEAR} + $P{CLAUSE_DIR_1} + $P{CLAUSE_DIV_1} +
"       )   as JML_INSIDEN_TRAFIK " +
",      ( " +
"       select round((P.JML_PARTISIPASI / CAST(ISNULL(NULLIF(T.JML_TARGET, 0), 1) as float)) * 100, 2) as PARTISIPASI " +
"       from	( " +
"               select	COUNT(b.NIPG)	as JML_PARTISIPASI " +
"               from	T_RCA			as a " +
"                   ,	T_RCA_AUDITOR	as b " +
"                   ,	R_PEGAWAI		as c " +
"               where	a.ID_RCA				= b.ID_RCA " +
"               and		b.STATUS				in (1,2) " +
"               and		b.NIPG					= c.NIPG " +
"               and		c.STATUS_PEGAWAI		= '1' " +
"               and		YEAR(a.TANGGAL_RCA)		= " + $P{PREV_YEAR} +
"               and		MONTH(a.TANGGAL_RCA)	= " + $P{PREV_MONTH} + $P{CLAUSE_DIR_2} + $P{CLAUSE_DIV_2} +
"               ) as P " +
"           ,	( " +
"               select	case " + $P{PREV_MONTH} +
"                           when	1	then isnull(SUM(a.JAN),1) " +
"                           when	2	then isnull(SUM(a.FEB),1) " +
"                           when	3	then isnull(SUM(a.MAR),1) " +
"                           when	4	then isnull(SUM(a.APR),1) " +
"                           when	5	then isnull(SUM(a.MAY),1) " +
"                           when	6	then isnull(SUM(a.JUN),1) " +
"                           when	7	then isnull(SUM(a.JUL),1) " +
"                           when	8	then isnull(SUM(a.AUG),1) " +
"                           when	9	then isnull(SUM(a.SEP),1) " +
"                           when	10	then isnull(SUM(a.OCT),1) " +
"                           when	11	then isnull(SUM(a.NOV),1) " +
"                           when	12	then isnull(SUM(a.DEC),1) " +
"                       end as JML_TARGET " +
"               from	T_RCA_TARGET_PEGAWAI	as a " +
"                   ,	R_PEGAWAI				as b " +
"               where	a.NIPG					= b.NIPG " +
"               and		a.YEAR					= " + $P{PREV_YEAR} +
"               and		b.STATUS_PEGAWAI		= '1' " + $P{CLAUSE_DIR_3} + $P{CLAUSE_DIV_3} +
"               ) as T " +
"       )   as PERCENT_PARTISIPASI_RCA " +
",      ( " +
"       select	CAST(ISNULL(SUM(y.NUMBER_OF_VIOLATIONS), 0) as varchar) as JML_VIOLATION " +
"       from	T_RCA			as x " +
"           ,	T_RCA_DETAIL	as y " +
"       where	x.ID_RCA				= y.ID_RCA " +
"       and		YEAR(x.TANGGAL_RCA)		= " + $P{PREV_YEAR} +
"       and		MONTH(x.TANGGAL_RCA)	= " + $P{PREV_MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"       )   as VIOLATION " +
",      ( " +
"       select	convert(decimal(18,2), case when sum(y.li_45) is null then 0 else (1.0 * (sum(y.li_45) * 100) / isnull(sum(y.number_of_violations),1)) end) " +
"       from	t_rca			as x " +
"           ,	t_rca_detail	as y " +
"       where	x.id_rca				= y.id_rca " +
"       and		year(x.tanggal_rca)		= " + $P{PREV_YEAR} +
"       and		month(x.tanggal_rca)	= " + $P{PREV_MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"       )   as PERCENT_45 " +
",      ( " +
"       select	round((TL_TEMUAN_45.JUMLAH / cast(isnull(nullif(TEMUAN_45.JUMLAH,0),1) as float)) * 100, 2, 1) as PERBAIKAN_TEMUAN_45 " +
"       from	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		y.ID_SEVERITY			in (4,5) " +
"               and		y.STATUS				= '3' " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{PREV_YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	= " + $P{PREV_MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"               )	as TL_TEMUAN_45 " +
"           ,	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		y.ID_SEVERITY			in (4,5) " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{PREV_YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	= " + $P{PREV_MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"               )	as TEMUAN_45 " +
"       )   as PERCENT_PERBAIKAN_TEMUAN_45 " +
",      ( " +
"       select	cast(convert(decimal(18,2), case when sum(y.violation_x_severity) is null then 0 else (1.0 * sum(y.violation_x_severity) / isnull(sum(y.number_of_violations),1)) end) as varchar)" +
"       from	t_rca			as x " +
"           ,	t_rca_detail	as y " +
"       where	x.id_rca				= y.id_rca " +
"       and		year(x.tanggal_rca)		= " + $P{PREV_YEAR} +
"       and		month(x.tanggal_rca)	= " + $P{PREV_MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"       )   as AVERAGE_OF_SEVERITY " +
",      ( " +
"       select round((P.JML_PARTISIPASI / CAST(ISNULL(NULLIF(T.JML_TARGET, 0), 1) as float)) * 100, 2) as PARTISIPASI " +
"       from	( " +
"               select	COUNT(b.NIPG)	as JML_PARTISIPASI " +
"               from	T_STOP			as b " +
"                   ,	R_PEGAWAI		as a " +
"               where	a.NIPG              = b.NIPG " +
"               and		a.STATUS_PEGAWAI    = '1' " +
"               and		b.STATUS            in (1,2) " +
"               and		b.STATUS_AKTIF      = '1' " +
"               and		YEAR(b.TANGGAL)		= " + $P{PREV_YEAR} +
"               and		MONTH(b.TANGGAL)    = " + $P{PREV_MONTH} + $P{CLAUSE_DIR_3} + $P{CLAUSE_DIV_3} +
"               ) as P " +
"           ,	( " +
"               select	case " + $P{PREV_MONTH} +
"                           when	1	then isnull(SUM(a.JAN),1) " +
"                           when	2	then isnull(SUM(a.FEB),1) " +
"                           when	3	then isnull(SUM(a.MAR),1) " +
"                           when	4	then isnull(SUM(a.APR),1) " +
"                           when	5	then isnull(SUM(a.MAY),1) " +
"                           when	6	then isnull(SUM(a.JUN),1) " +
"                           when	7	then isnull(SUM(a.JUL),1) " +
"                           when	8	then isnull(SUM(a.AUG),1) " +
"                           when	9	then isnull(SUM(a.SEP),1) " +
"                           when	10	then isnull(SUM(a.OCT),1) " +
"                           when	11	then isnull(SUM(a.NOV),1) " +
"                           when	12	then isnull(SUM(a.DEC),1) " +
"                       end as JML_TARGET " +
"               from	T_STOP_TARGET_PEGAWAI	as a " +
"                   ,	R_PEGAWAI				as b " +
"               where	a.NIPG					= b.NIPG " +
"               and		a.YEAR					= " + $P{PREV_YEAR} +
"               and		b.STATUS_PEGAWAI		= '1' " + $P{CLAUSE_DIR_3} + $P{CLAUSE_DIV_3} +
"               ) as T " +
"       )   as PERCENT_PARTISIPASI_OBSERVASI " +
",      ( " +
"       select  cast(convert(decimal(18,2),round((UNSAFE.JML_UNSAFE / (case WAKTU.JML_WAKTU when 0 then 1.00 else WAKTU.JML_WAKTU * 1.00 end)), 2, 1)) as varchar) " +
"       from	( " +
"               select	ISNULL(SUM(y.JUMLAH_UNSAFE),0)	as JML_UNSAFE " +
"               from	T_STOP			as x " +
"                   ,	T_STOP_DETAIL   as y " +
"                   ,	R_PEGAWAI		as z " +
"               where	x.ID_STOP           = y.ID_STOP " +
"               and     x.NIPG              = z.NIPG " +
"               and		z.STATUS_PEGAWAI    = '1' " +
"               and		x.STATUS_AKTIF      = '1' " +
"               and		YEAR(x.TANGGAL)		= " + $P{PREV_YEAR} +
"               and		MONTH(x.TANGGAL)    = " + $P{PREV_MONTH} + $P{CLAUSE_DIR_5} + $P{CLAUSE_DIV_5} +
"               )   as UNSAFE " +
"           ,	( " +
"               select	ISNULL(SUM(x.LAMA_OBSERVASI),0)	as JML_WAKTU " +
"               from	T_STOP			as x " +
"                   ,	R_PEGAWAI		as y " +
"               where	x.NIPG              = y.NIPG " +
"               and		y.STATUS_PEGAWAI    = '1' " +
"               and		x.STATUS_AKTIF      = '1' " +
"               and		YEAR(x.TANGGAL)		= " + $P{PREV_YEAR} +
"               and		MONTH(x.TANGGAL)    = " + $P{PREV_MONTH} + $P{CLAUSE_DIR_5} + $P{CLAUSE_DIV_5} +
"               )   as WAKTU " +
"       )   as UNSAFE_ACT_PER_HOUR " +
",      ( " +
"       select	cast(convert(decimal(18,2), " +
"                   case when sum(y.jumlah_unsafe) is null " +
"                   then 0 " +
"                   else (1.0 * (sum(y.jumlah_unsafe) * 100)) " +
"                   end " +
"               / isnull((sum(y.jumlah_unsafe) + sum(y.jumlah_safe)),1)) as varchar) " +
"       from    t_stop          as x " +
"           ,	t_stop_detail	as y " +
"           ,	r_pegawai       as z " +
"       where	x.id_stop                   = y.id_stop " +
"       and     x.nipg                      = z.nipg " +
"       and		z.status_pegawai            = '1' " +
"       and		x.status_aktif              = '1' " +
"       and		year(x.tanggal)             = " + $P{PREV_YEAR} +
"       and		month(x.tanggal)            = " + $P{PREV_MONTH} + $P{CLAUSE_DIR_5} + $P{CLAUSE_DIV_5} +
"       )   as UNSAFE_ACT_INDEX " +
",      ( " +
"       select	COUNT(y.ID_RCA)	as JUMLAH " +
"       from	T_RCA			as x " +
"           ,	T_RCA_DETAIL	as y " +
"       where	x.ID_RCA				= y.ID_RCA " +
"       and		y.STATUS				in ('2','3') " +
"       and		YEAR(x.TANGGAL_RCA)		= " + $P{PREV_YEAR} +
"       and		MONTH(x.TANGGAL_RCA)	= " + $P{PREV_MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"       )   as JML_TINDAK_LANJUT_RCA " +
",      ( " +
"       select	round((TL_TEMUAN.JUMLAH / cast(isnull(nullif(TEMUAN.JUMLAH,0),1) as float)) * 100, 2, 1) as PERBAIKAN_TEMUAN " +
"       from	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		y.STATUS				= '3' " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{PREV_YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	= " + $P{PREV_MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"               )	as TL_TEMUAN " +
"           ,	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{PREV_YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	= " + $P{PREV_MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"               )	as TEMUAN " +
"       )   as PERCENT_TINDAK_LANJUT_SELESAI " +
" union "]]></defaultValueExpression>
	</parameter>
	<parameter name="QUERY_2" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{ID_DIR}.isEmpty() || $P{ID_DIR}.equalsIgnoreCase( "0" ) ? $P{CLAUSE_QUERY_DIR} :
$P{ID_DIV}.isEmpty() || $P{ID_DIV}.equalsIgnoreCase( "0" ) ? $P{CLAUSE_QUERY_DIV} :
$P{CLAUSE_QUERY_DEP}]]></defaultValueExpression>
	</parameter>
	<parameter name="QUERY_3" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["select 3   as NO_URUT " +
",      ( " +
"       select	' Total ' + datename(month, dateadd(month, " + $P{MONTH} + ", 0) - 1 ) + ' ' + '" + $P{YEAR} + "' " +
"       )   as ITEM " +
",      ( " +
"       select	cast(isnull(sum(jml_korban_mati) " +
"                       +	sum(jml_korban_berat) " +
"                       +	sum(jml_korban_sedang) " +
"                       +	sum(jml_korban_dampak) " +
"                       +	sum(jml_korban_medis) " +
"                       +	sum(jml_korban_p3k) " +
"                       +	sum(jml_hampir_celaka) " +
"               , 0) as varchar) " +
"       from	t_insiden " +
"       where	bulan	= " + $P{MONTH} +
"       and     tahun	= " + $P{YEAR} + $P{CLAUSE_DIR_1} + $P{CLAUSE_DIV_1} +
"       )   as JML_INSIDEN_CEDERA " +
",      ( " +
"       select	cast(isnull(sum(jml_bakar_ledak_bocor) " +
"                       +	sum(jml_rusak_jaringan) " +
"               , 0) as varchar) " +
"       from	t_insiden " +
"       where	bulan	= " + $P{MONTH} +
"       and     tahun	= " + $P{YEAR} + $P{CLAUSE_DIR_1} + $P{CLAUSE_DIV_1} +
"       )   as JML_INSIDEN_JARINGAN " +
",      ( " +
"       select	cast(isnull(sum(jml_rusak_kendaraan) " +
"                       +	sum(jml_kecelakaan_kendaraan) " +
"               , 0) as varchar) " +
"       from	t_insiden " +
"       where	bulan	= " + $P{MONTH} +
"       and     tahun	= " + $P{YEAR} + $P{CLAUSE_DIR_1} + $P{CLAUSE_DIV_1} +
"       )   as JML_INSIDEN_TRAFIK " +
",      ( " +
"       select round((P.JML_PARTISIPASI / CAST(ISNULL(NULLIF(T.JML_TARGET, 0), 1) as float)) * 100, 2) as PARTISIPASI " +
"       from	( " +
"               select	COUNT(b.NIPG)	as JML_PARTISIPASI " +
"               from	T_RCA			as a " +
"                   ,	T_RCA_AUDITOR	as b " +
"                   ,	R_PEGAWAI		as c " +
"               where	a.ID_RCA				= b.ID_RCA " +
"               and		b.STATUS				in (1,2) " +
"               and		b.NIPG					= c.NIPG " +
"               and		c.STATUS_PEGAWAI		= '1' " +
"               and		YEAR(a.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(a.TANGGAL_RCA)	= " + $P{MONTH} + $P{CLAUSE_DIR_2} + $P{CLAUSE_DIV_2} +
"               ) as P " +
"           ,	( " +
"               select	case " + $P{MONTH} +
"                           when	1	then isnull(SUM(a.JAN),1) " +
"                           when	2	then isnull(SUM(a.FEB),1) " +
"                           when	3	then isnull(SUM(a.MAR),1) " +
"                           when	4	then isnull(SUM(a.APR),1) " +
"                           when	5	then isnull(SUM(a.MAY),1) " +
"                           when	6	then isnull(SUM(a.JUN),1) " +
"                           when	7	then isnull(SUM(a.JUL),1) " +
"                           when	8	then isnull(SUM(a.AUG),1) " +
"                           when	9	then isnull(SUM(a.SEP),1) " +
"                           when	10	then isnull(SUM(a.OCT),1) " +
"                           when	11	then isnull(SUM(a.NOV),1) " +
"                           when	12	then isnull(SUM(a.DEC),1) " +
"                       end as JML_TARGET " +
"               from	T_RCA_TARGET_PEGAWAI	as a " +
"                   ,	R_PEGAWAI				as b " +
"               where	a.NIPG					= b.NIPG " +
"               and		a.YEAR					= " + $P{YEAR} +
"               and		b.STATUS_PEGAWAI		= '1' " + $P{CLAUSE_DIR_3} + $P{CLAUSE_DIV_3} +
"               ) as T " +
"       )   as PERCENT_PARTISIPASI_RCA " +
",      ( " +
"       select	CAST(ISNULL(SUM(y.NUMBER_OF_VIOLATIONS), 0) as varchar) as JML_VIOLATION " +
"       from	T_RCA			as x " +
"           ,	T_RCA_DETAIL	as y " +
"       where	x.ID_RCA				= y.ID_RCA " +
"       and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"       and		MONTH(x.TANGGAL_RCA)	= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"       )   as VIOLATION " +
",      ( " +
"       select	convert(decimal(18,2), case when sum(y.li_45) is null then 0 else (1.0 * (sum(y.li_45) * 100) / isnull(sum(y.number_of_violations),1)) end) " +
"       from	t_rca			as x " +
"           ,	t_rca_detail	as y " +
"       where	x.id_rca				= y.id_rca " +
"       and		year(x.tanggal_rca)		= " + $P{YEAR} +
"       and		month(x.tanggal_rca)	= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"       )   as PERCENT_45 " +
",      ( " +
"       select	round((TL_TEMUAN_45.JUMLAH / cast(isnull(nullif(TEMUAN_45.JUMLAH,0),1) as float)) * 100, 2, 1) as PERBAIKAN_TEMUAN_45 " +
"       from	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		y.ID_SEVERITY			in (4,5) " +
"               and		y.STATUS				= '3' " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"               )	as TL_TEMUAN_45 " +
"           ,	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		y.ID_SEVERITY			in (4,5) " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"               )	as TEMUAN_45 " +
"       )   as PERCENT_PERBAIKAN_TEMUAN_45 " +
",      ( " +
"       select	cast(convert(decimal(18,2), case when sum(y.violation_x_severity) is null then 0 else (1.0 * sum(y.violation_x_severity) / isnull(sum(y.number_of_violations),1)) end) as varchar)" +
"       from	t_rca			as x " +
"           ,	t_rca_detail	as y " +
"       where	x.id_rca				= y.id_rca " +
"       and		year(x.tanggal_rca)		= " + $P{YEAR} +
"       and		month(x.tanggal_rca)	= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"       )   as AVERAGE_OF_SEVERITY " +
",      ( " +
"       select round((P.JML_PARTISIPASI / CAST(ISNULL(NULLIF(T.JML_TARGET, 0), 1) as float)) * 100, 2) as PARTISIPASI " +
"       from	( " +
"               select	COUNT(b.NIPG)	as JML_PARTISIPASI " +
"               from	T_STOP			as b " +
"                   ,	R_PEGAWAI		as a " +
"               where	a.NIPG              = b.NIPG " +
"               and		a.STATUS_PEGAWAI    = '1' " +
"               and		b.STATUS            in (1,2) " +
"               and		b.STATUS_AKTIF      = '1' " +
"               and		YEAR(b.TANGGAL)		= " + $P{YEAR} +
"               and		MONTH(b.TANGGAL)    = " + $P{MONTH} + $P{CLAUSE_DIR_3} + $P{CLAUSE_DIV_3} +
"               ) as P " +
"           ,	( " +
"               select	case " + $P{MONTH} +
"                           when	1	then isnull(SUM(a.JAN),1) " +
"                           when	2	then isnull(SUM(a.FEB),1) " +
"                           when	3	then isnull(SUM(a.MAR),1) " +
"                           when	4	then isnull(SUM(a.APR),1) " +
"                           when	5	then isnull(SUM(a.MAY),1) " +
"                           when	6	then isnull(SUM(a.JUN),1) " +
"                           when	7	then isnull(SUM(a.JUL),1) " +
"                           when	8	then isnull(SUM(a.AUG),1) " +
"                           when	9	then isnull(SUM(a.SEP),1) " +
"                           when	10	then isnull(SUM(a.OCT),1) " +
"                           when	11	then isnull(SUM(a.NOV),1) " +
"                           when	12	then isnull(SUM(a.DEC),1) " +
"                       end as JML_TARGET " +
"               from	T_STOP_TARGET_PEGAWAI	as a " +
"                   ,	R_PEGAWAI				as b " +
"               where	a.NIPG					= b.NIPG " +
"               and		a.YEAR					= " + $P{YEAR} +
"               and		b.STATUS_PEGAWAI		= '1' " + $P{CLAUSE_DIR_3} + $P{CLAUSE_DIV_3} +
"               ) as T " +
"       )   as PERCENT_PARTISIPASI_OBSERVASI " +
",      ( " +
"       select  cast(convert(decimal(18,2),round((UNSAFE.JML_UNSAFE / (case WAKTU.JML_WAKTU when 0 then 1.00 else WAKTU.JML_WAKTU * 1.00 end)), 2, 1)) as varchar) " +
"       from	( " +
"               select	ISNULL(SUM(y.JUMLAH_UNSAFE),0)	as JML_UNSAFE " +
"               from	T_STOP			as x " +
"                   ,	T_STOP_DETAIL   as y " +
"                   ,	R_PEGAWAI		as z " +
"               where	x.ID_STOP           = y.ID_STOP " +
"               and     x.NIPG              = z.NIPG " +
"               and		z.STATUS_PEGAWAI    = '1' " +
"               and		x.STATUS_AKTIF      = '1' " +
"               and		YEAR(x.TANGGAL)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL)    = " + $P{MONTH} + $P{CLAUSE_DIR_5} + $P{CLAUSE_DIV_5} +
"               )   as UNSAFE " +
"           ,	( " +
"               select	ISNULL(SUM(x.LAMA_OBSERVASI),0)	as JML_WAKTU " +
"               from	T_STOP			as x " +
"                   ,	R_PEGAWAI		as y " +
"               where	x.NIPG              = y.NIPG " +
"               and		y.STATUS_PEGAWAI    = '1' " +
"               and		x.STATUS_AKTIF      = '1' " +
"               and		YEAR(x.TANGGAL)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL)    = " + $P{MONTH} + $P{CLAUSE_DIR_5} + $P{CLAUSE_DIV_5} +
"               )   as WAKTU " +
"       )   as UNSAFE_ACT_PER_HOUR " +
",      ( " +
"       select	cast(convert(decimal(18,2), " +
"                   case when sum(y.jumlah_unsafe) is null " +
"                   then 0 " +
"                   else (1.0 * (sum(y.jumlah_unsafe) * 100)) " +
"                   end " +
"               / isnull((sum(y.jumlah_unsafe) + sum(y.jumlah_safe)),1)) as varchar) " +
"       from    t_stop          as x " +
"           ,	t_stop_detail	as y " +
"           ,	r_pegawai       as z " +
"       where	x.id_stop                   = y.id_stop " +
"       and     x.nipg                      = z.nipg " +
"       and		z.status_pegawai            = '1' " +
"       and		x.status_aktif              = '1' " +
"       and		year(x.tanggal)             = " + $P{YEAR} +
"       and		month(x.tanggal)            = " + $P{MONTH} + $P{CLAUSE_DIR_5} + $P{CLAUSE_DIV_5} +
"       )   as UNSAFE_ACT_INDEX " +
",      ( " +
"       select	COUNT(y.ID_RCA)	as JUMLAH " +
"       from	T_RCA			as x " +
"           ,	T_RCA_DETAIL	as y " +
"       where	x.ID_RCA				= y.ID_RCA " +
"       and		y.STATUS				in ('2','3') " +
"       and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"       and		MONTH(x.TANGGAL_RCA)	= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"       )   as JML_TINDAK_LANJUT_RCA " +
",      ( " +
"       select	round((TL_TEMUAN.JUMLAH / cast(isnull(nullif(TEMUAN.JUMLAH,0),1) as float)) * 100, 2, 1) as PERBAIKAN_TEMUAN " +
"       from	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		y.STATUS				= '3' " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"               )	as TL_TEMUAN " +
"           ,	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"               )	as TEMUAN " +
"       )   as PERCENT_TINDAK_LANJUT_SELESAI " +
"union "]]></defaultValueExpression>
	</parameter>
	<parameter name="QUERY_4" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["select 4   as NO_URUT " +
",      ( " +
"       select	' Year To Date (YTD) ' + '" + $P{YEAR} + "' " +
"       )   as ITEM " +
",      ( " +
"       select	cast(isnull(sum(jml_korban_mati) " +
"                       +	sum(jml_korban_berat) " +
"                       +	sum(jml_korban_sedang) " +
"                       +	sum(jml_korban_dampak) " +
"                       +	sum(jml_korban_medis) " +
"                       +	sum(jml_korban_p3k) " +
"                       +	sum(jml_hampir_celaka) " +
"               , 0) as varchar) " +
"       from	t_insiden " +
"       where	bulan	<= " + $P{MONTH} +
"       and     tahun	= " + $P{YEAR} + $P{CLAUSE_DIR_1} + $P{CLAUSE_DIV_1} +
"       )   as JML_INSIDEN_CEDERA " +
",      ( " +
"       select	cast(isnull(sum(jml_bakar_ledak_bocor) " +
"                       +	sum(jml_rusak_jaringan) " +
"               , 0) as varchar) " +
"       from	t_insiden " +
"       where	bulan	<= " + $P{MONTH} +
"       and     tahun	= " + $P{YEAR} + $P{CLAUSE_DIR_1} + $P{CLAUSE_DIV_1} +
"       )   as JML_INSIDEN_JARINGAN " +
",      ( " +
"       select	cast(isnull(sum(jml_rusak_kendaraan) " +
"                       +	sum(jml_kecelakaan_kendaraan) " +
"               , 0) as varchar) " +
"       from	t_insiden " +
"       where	bulan	<= " + $P{MONTH} +
"       and     tahun	= " + $P{YEAR} + $P{CLAUSE_DIR_1} + $P{CLAUSE_DIV_1} +
"       )   as JML_INSIDEN_TRAFIK " +
",      ( " +
"       select round((P.JML_PARTISIPASI / CAST(ISNULL(NULLIF(T.JML_TARGET, 0), 1) as float)) * 100, 2) as PARTISIPASI " +
"       from	( " +
"               select	COUNT(b.NIPG)	as JML_PARTISIPASI " +
"               from	T_RCA			as a " +
"                   ,	T_RCA_AUDITOR	as b " +
"                   ,	R_PEGAWAI		as c " +
"               where	a.ID_RCA				= b.ID_RCA " +
"               and		b.STATUS				in (1,2) " +
"               and		b.NIPG					= c.NIPG " +
"               and		c.STATUS_PEGAWAI		= '1' " +
"               and		YEAR(a.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(a.TANGGAL_RCA)	<= " + $P{MONTH} + $P{CLAUSE_DIR_2} + $P{CLAUSE_DIV_2} +
"               ) as P " +
"           ,	( " +
"               select	case " + $P{MONTH} +
"                           when	1	then isnull(SUM(a.JAN),1) " +
"                           when	2	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) " +
"                           when	3	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) " +
"                           when	4	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) " +
"                           when	5	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) " +
"                           when	6	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) " +
"                           when	7	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) + isnull(SUM(a.JUL),1) " +
"                           when	8	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) + isnull(SUM(a.JUL),1) + isnull(SUM(a.AUG),1) " +
"                           when	9	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) + isnull(SUM(a.JUL),1) + isnull(SUM(a.AUG),1) + isnull(SUM(a.SEP),1) " +
"                           when	10	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) + isnull(SUM(a.JUL),1) + isnull(SUM(a.AUG),1) + isnull(SUM(a.SEP),1) + isnull(SUM(a.OCT),1) " +
"                           when	11	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) + isnull(SUM(a.JUL),1) + isnull(SUM(a.AUG),1) + isnull(SUM(a.SEP),1) + isnull(SUM(a.OCT),1) + isnull(SUM(a.NOV),1) " +
"                           when	12	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) + isnull(SUM(a.JUL),1) + isnull(SUM(a.AUG),1) + isnull(SUM(a.SEP),1) + isnull(SUM(a.OCT),1) + isnull(SUM(a.NOV),1) + isnull(SUM(a.DEC),1) " +
"                       end as JML_TARGET " +
"               from	T_RCA_TARGET_PEGAWAI	as a " +
"                   ,	R_PEGAWAI				as b " +
"               where	a.NIPG					= b.NIPG " +
"               and		a.YEAR					= " + $P{YEAR} +
"               and		b.STATUS_PEGAWAI		= '1' " + $P{CLAUSE_DIR_3} + $P{CLAUSE_DIV_3} +
"               ) as T " +
"       )   as PERCENT_PARTISIPASI_RCA " +
",      ( " +
"       select	CAST(ISNULL(SUM(y.NUMBER_OF_VIOLATIONS), 0) as varchar) as JML_VIOLATION " +
"       from	T_RCA			as x " +
"           ,	T_RCA_DETAIL	as y " +
"       where	x.ID_RCA				= y.ID_RCA " +
"       and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"       and		MONTH(x.TANGGAL_RCA)	<= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"       )   as VIOLATION " +
",      ( " +
"       select	convert(decimal(18,2), case when sum(y.li_45) is null then 0 else (1.0 * (sum(y.li_45) * 100) / isnull(sum(y.number_of_violations),1)) end) " +
"       from	t_rca			as x " +
"           ,	t_rca_detail	as y " +
"       where	x.id_rca				= y.id_rca " +
"       and		year(x.tanggal_rca)		= " + $P{YEAR} +
"       and		month(x.tanggal_rca)	<= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"       )   as PERCENT_45 " +
",      ( " +
"       select	round((TL_TEMUAN_45.JUMLAH / cast(isnull(nullif(TEMUAN_45.JUMLAH,0),1) as float)) * 100, 2, 1) as PERBAIKAN_TEMUAN_45 " +
"       from	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		y.ID_SEVERITY			in (4,5) " +
"               and		y.STATUS				= '3' " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	<= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"               )	as TL_TEMUAN_45 " +
"           ,	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		y.ID_SEVERITY			in (4,5) " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	<= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"               )	as TEMUAN_45 " +
"       )   as PERCENT_PERBAIKAN_TEMUAN_45 " +
",      ( " +
"       select	cast(convert(decimal(18,2), case when sum(y.violation_x_severity) is null then 0 else (1.0 * sum(y.violation_x_severity) / isnull(sum(y.number_of_violations),1)) end) as varchar) " +
"       from	t_rca			as x " +
"           ,	t_rca_detail	as y " +
"       where	x.id_rca				= y.id_rca " +
"       and		year(x.tanggal_rca)		= " + $P{YEAR} +
"       and		month(x.tanggal_rca)	<= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"       )   as AVERAGE_OF_SEVERITY " +
",      ( " +
"       select round((P.JML_PARTISIPASI / CAST(ISNULL(NULLIF(T.JML_TARGET, 0), 1) as float)) * 100, 2) as PARTISIPASI " +
"       from	( " +
"               select	COUNT(b.NIPG)	as JML_PARTISIPASI " +
"               from	T_STOP			as b " +
"                   ,	R_PEGAWAI		as a " +
"               where	a.NIPG              = b.NIPG " +
"               and		a.STATUS_PEGAWAI    = '1' " +
"               and		b.STATUS            in (1,2) " +
"               and		b.STATUS_AKTIF      = '1' " +
"               and		YEAR(b.TANGGAL)		= " + $P{YEAR} +
"               and		MONTH(b.TANGGAL)    <= " + $P{MONTH} + $P{CLAUSE_DIR_3} + $P{CLAUSE_DIV_3} +
"               ) as P " +
"           ,	( " +
"               select	case " + $P{MONTH} +
"                           when	1	then isnull(SUM(a.JAN),1) " +
"                           when	2	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) " +
"                           when	3	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) " +
"                           when	4	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) " +
"                           when	5	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) " +
"                           when	6	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) " +
"                           when	7	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) + isnull(SUM(a.JUL),1) " +
"                           when	8	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) + isnull(SUM(a.JUL),1) + isnull(SUM(a.AUG),1) " +
"                           when	9	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) + isnull(SUM(a.JUL),1) + isnull(SUM(a.AUG),1) + isnull(SUM(a.SEP),1) " +
"                           when	10	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) + isnull(SUM(a.JUL),1) + isnull(SUM(a.AUG),1) + isnull(SUM(a.SEP),1) + isnull(SUM(a.OCT),1) " +
"                           when	11	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) + isnull(SUM(a.JUL),1) + isnull(SUM(a.AUG),1) + isnull(SUM(a.SEP),1) + isnull(SUM(a.OCT),1) + isnull(SUM(a.NOV),1) " +
"                           when	12	then isnull(SUM(a.JAN),1) + isnull(SUM(a.FEB),1) + isnull(SUM(a.MAR),1) + isnull(SUM(a.APR),1) + isnull(SUM(a.MAY),1) + isnull(SUM(a.JUN),1) + isnull(SUM(a.JUL),1) + isnull(SUM(a.AUG),1) + isnull(SUM(a.SEP),1) + isnull(SUM(a.OCT),1) + isnull(SUM(a.NOV),1) + isnull(SUM(a.DEC),1) " +
"                       end as JML_TARGET " +
"               from	T_STOP_TARGET_PEGAWAI	as a " +
"                   ,	R_PEGAWAI				as b " +
"               where	a.NIPG					= b.NIPG " +
"               and		a.YEAR					= " + $P{YEAR} +
"               and		b.STATUS_PEGAWAI		= '1' " + $P{CLAUSE_DIR_3} + $P{CLAUSE_DIV_3} +
"               ) as T " +
"       )   as PERCENT_PARTISIPASI_OBSERVASI " +
",      ( " +
"       select  cast(convert(decimal(18,2),round((UNSAFE.JML_UNSAFE / (case WAKTU.JML_WAKTU when 0 then 1.00 else WAKTU.JML_WAKTU * 1.00 end)), 2, 1)) as varchar)" +
"       from	( " +
"               select	ISNULL(SUM(y.JUMLAH_UNSAFE),0)	as JML_UNSAFE " +
"               from	T_STOP			as x " +
"                   ,	T_STOP_DETAIL   as y " +
"                   ,	R_PEGAWAI		as z " +
"               where	x.ID_STOP           = y.ID_STOP " +
"               and     x.NIPG              = z.NIPG " +
"               and		z.STATUS_PEGAWAI    = '1' " +
"               and		x.STATUS_AKTIF      = '1' " +
"               and		YEAR(x.TANGGAL)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL)    <= " + $P{MONTH} + $P{CLAUSE_DIR_5} + $P{CLAUSE_DIV_5} +
"               )   as UNSAFE " +
"           ,	( " +
"               select	ISNULL(SUM(x.LAMA_OBSERVASI),0)	as JML_WAKTU " +
"               from	T_STOP			as x " +
"                   ,	R_PEGAWAI		as y " +
"               where	x.NIPG              = y.NIPG " +
"               and		y.STATUS_PEGAWAI    = '1' " +
"               and		x.STATUS_AKTIF      = '1' " +
"               and		YEAR(x.TANGGAL)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL)    <= " + $P{MONTH} + $P{CLAUSE_DIR_5} + $P{CLAUSE_DIV_5} +
"               )   as WAKTU " +
"       )   as UNSAFE_ACT_PER_HOUR " +
",      ( " +
"       select	cast(convert(decimal(18,2), " +
"                   case when sum(y.jumlah_unsafe) is null " +
"                   then 0 " +
"                   else (1.0 * (sum(y.jumlah_unsafe) * 100)) " +
"                   end " +
"               / isnull((sum(y.jumlah_unsafe) + sum(y.jumlah_safe)),1)) as varchar) " +
"       from    t_stop          as x " +
"           ,	t_stop_detail	as y " +
"           ,	r_pegawai       as z " +
"       where	x.id_stop                   = y.id_stop " +
"       and     x.nipg                      = z.nipg " +
"       and		z.status_pegawai            = '1' " +
"       and		x.status_aktif              = '1' " +
"       and		year(x.tanggal)             = " + $P{YEAR} +
"       and		month(x.tanggal)            <= " + $P{MONTH} + $P{CLAUSE_DIR_5} + $P{CLAUSE_DIV_5} +
"       )   as UNSAFE_ACT_INDEX " +
",      ( " +
"       select	COUNT(y.ID_RCA)	as JUMLAH " +
"       from	T_RCA			as x " +
"           ,	T_RCA_DETAIL	as y " +
"       where	x.ID_RCA				= y.ID_RCA " +
"       and		y.STATUS				in ('2','3') " +
"       and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"       and		MONTH(x.TANGGAL_RCA)	<= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"       )   as JML_TINDAK_LANJUT_RCA " +
",      ( " +
"       select	round((TL_TEMUAN.JUMLAH / cast(isnull(nullif(TEMUAN.JUMLAH,0),1) as float)) * 100, 2, 1) as PERBAIKAN_TEMUAN " +
"       from	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		y.STATUS				= '3' " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	<= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"               )	as TL_TEMUAN " +
"           ,	( " +
"               select	COUNT(y.ID_RCA)	as JUMLAH " +
"               from	T_RCA			as x " +
"                   ,	T_RCA_DETAIL	as y " +
"               where	x.ID_RCA				= y.ID_RCA " +
"               and		YEAR(x.TANGGAL_RCA)		= " + $P{YEAR} +
"               and		MONTH(x.TANGGAL_RCA)	<= " + $P{MONTH} + $P{CLAUSE_DIR_4} + $P{CLAUSE_DIV_4} +
"               )	as TEMUAN " +
"       )   as PERCENT_TINDAK_LANJUT_SELESAI " +
"union "]]></defaultValueExpression>
	</parameter>
	<parameter name="QUERY_5" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["select 5   as NO_URUT " +
",      ( " +
"       select	' Target ' + '" + $P{YEAR} + "' " +
"       ) as ITEM " +
",      0   as JML_INSIDEN_CEDERA " +
",      11  as JML_INSIDEN_JARINGAN " +
",      12  as JML_INSIDEN_TRAFIK " +
",      100 as PERCENT_PARTISIPASI_RCA " +
",      '-' as VIOLATION " +
",      20  as PERCENT_45 " +
",      80  as PERCENT_PERBAIKAN_TEMUAN_45 " +
",      '-' as AVERAGE_OF_SEVERITY " +
",      100 as PERCENT_PARTISIPASI_OBSERVASI " +
",      '-' as UNSAFE_ACT_PER_HOUR " +
",      '-' as UNSAFE_ACT_INDEX " +
",      '-' as JML_TINDAK_LANJUT_RCA " +
",      80  as PERCENT_TINDAK_LANJUT_SELESAI "]]></defaultValueExpression>
	</parameter>
	<parameter name="DYNAMIC_QUERY" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{QUERY_1} + $P{QUERY_2} + $P{QUERY_3} + $P{QUERY_4} + $P{QUERY_5}]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[$P!{DYNAMIC_QUERY}]]>
	</queryString>
	<field name="ITEM" class="java.lang.String"/>
	<field name="JML_INSIDEN_CEDERA" class="java.lang.Integer"/>
	<field name="JML_INSIDEN_JARINGAN" class="java.lang.Integer"/>
	<field name="JML_INSIDEN_TRAFIK" class="java.lang.Integer"/>
	<field name="PERCENT_PARTISIPASI_RCA" class="java.lang.Float"/>
	<field name="VIOLATION" class="java.lang.String"/>
	<field name="PERCENT_45" class="java.lang.Float"/>
	<field name="PERCENT_PERBAIKAN_TEMUAN_45" class="java.lang.Float"/>
	<field name="AVERAGE_OF_SEVERITY" class="java.lang.String"/>
	<field name="PERCENT_PARTISIPASI_OBSERVASI" class="java.lang.Float"/>
	<field name="UNSAFE_ACT_PER_HOUR" class="java.lang.String"/>
	<field name="UNSAFE_ACT_INDEX" class="java.lang.String"/>
	<field name="JML_TINDAK_LANJUT_RCA" class="java.lang.String"/>
	<field name="PERCENT_TINDAK_LANJUT_SELESAI" class="java.lang.Float"/>
	<variable name="NO" class="java.lang.Integer" calculation="Count">
		<variableExpression><![CDATA[$V{NO} + 1]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="55" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="802" height="30"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="20" isBold="true"/>
				</textElement>
				<text><![CDATA[SAFETY METRICS]]></text>
			</staticText>
		</band>
	</title>
	<columnHeader>
		<band height="70">
			<staticText>
				<reportElement mode="Opaque" x="22" y="0" width="315" height="70" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Item]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="337" y="0" width="105" height="20" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Insiden]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="337" y="20" width="35" height="50" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Jumlah
Insiden
Cedera]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="372" y="20" width="35" height="50" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Jumlah
Insiden
Jaringan]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="407" y="20" width="35" height="50" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Jumlah
Insiden
Trafik]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="0" y="0" width="22" height="70" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[No]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="442" y="0" width="175" height="20" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Risk Containment]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="442" y="20" width="35" height="50" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[%
Partisi
pasi]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="477" y="20" width="35" height="50" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Violati
on]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="512" y="20" width="35" height="50" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[%
4/5]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="547" y="20" width="35" height="50" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[%
Perbaik
an 4/5]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="582" y="20" width="35" height="50" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Average of Severity]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="617" y="0" width="105" height="20" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Observasi]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="617" y="20" width="35" height="50" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[%
Partisi
pasi]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="652" y="20" width="35" height="50" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Unsafe
Act per
Hour]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="687" y="20" width="35" height="50" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Unsafe
Act
Index]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="722" y="0" width="80" height="20" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Improvement]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="722" y="20" width="40" height="50" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[Jumlah
Tindak
Lanjut
RCA]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="762" y="20" width="40" height="50" backcolor="#C0C0C0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri" size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[%
Tindak
Lanjut
Selesai]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20">
			<textField>
				<reportElement x="22" y="0" width="315" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ITEM}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="337" y="0" width="35" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{JML_INSIDEN_CEDERA}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="22" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{NO}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="372" y="0" width="35" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{JML_INSIDEN_JARINGAN}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="407" y="0" width="35" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{JML_INSIDEN_TRAFIK}]]></textFieldExpression>
			</textField>
			<textField pattern="###0.00">
				<reportElement x="442" y="0" width="35" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PERCENT_PARTISIPASI_RCA}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="477" y="0" width="35" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{VIOLATION}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="512" y="0" width="35" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PERCENT_45}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="547" y="0" width="35" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PERCENT_PERBAIKAN_TEMUAN_45}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="582" y="0" width="35" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{AVERAGE_OF_SEVERITY}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="617" y="0" width="35" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PERCENT_PARTISIPASI_OBSERVASI}]]></textFieldExpression>
			</textField>
			<textField pattern="">
				<reportElement x="652" y="0" width="35" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{UNSAFE_ACT_PER_HOUR}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="687" y="0" width="35" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{UNSAFE_ACT_INDEX}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="722" y="0" width="40" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{JML_TINDAK_LANJUT_RCA}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="762" y="0" width="40" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Calibri"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PERCENT_TINDAK_LANJUT_SELESAI}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
