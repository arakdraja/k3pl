<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="lap_rangkuman_keg_sr4" pageWidth="802" pageHeight="555" orientation="Landscape" columnWidth="802" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="YEAR" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="MONTH" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="ID_DIVPROSBU" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\apache-tomcat-7.0.28\\webapps\\k3pl\\reports\\"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
     T_AREA_PERHATIAN_DETAIL."ID_TIPE_AREA_PERHATIAN" AS T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN
FROM
     "dbo"."T_AREA_PERHATIAN_DETAIL" T_AREA_PERHATIAN_DETAIL
WHERE
     T_AREA_PERHATIAN_DETAIL."TAHUN" = $P{YEAR}
 AND T_AREA_PERHATIAN_DETAIL."BULAN" = $P{MONTH}
 AND T_AREA_PERHATIAN_DETAIL."ID_DIVPROSBU" = $P{ID_DIVPROSBU}
GROUP BY
     T_AREA_PERHATIAN_DETAIL."ID_TIPE_AREA_PERHATIAN"]]>
	</queryString>
	<field name="T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN" class="java.lang.Short"/>
	<variable name="PERILAKU_TIDAK_AMAN" class="java.lang.Integer">
		<variableExpression><![CDATA[$F{T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN} == 1 ? $V{PERILAKU_TIDAK_AMAN} + 1 : $V{PERILAKU_TIDAK_AMAN} + 0]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="KURANG_PENGAWASAN" class="java.lang.Integer">
		<variableExpression><![CDATA[$F{T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN} == 2 ? $V{KURANG_PENGAWASAN} + 1 : $V{KURANG_PENGAWASAN} + 0]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="KURANG_PENGETAHUAN" class="java.lang.Integer">
		<variableExpression><![CDATA[$F{T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN} == 3 ? $V{KURANG_PENGETAHUAN} + 1 : $V{KURANG_PENGETAHUAN} + 0]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="TIDAK_MEMENUHI_PERATURAN" class="java.lang.Integer">
		<variableExpression><![CDATA[$F{T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN} == 4 ? $V{TIDAK_MEMENUHI_PERATURAN} + 1 : $V{TIDAK_MEMENUHI_PERATURAN} + 0]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="KURANG_KOMUNIKASI" class="java.lang.Integer">
		<variableExpression><![CDATA[$F{T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN} == 5 ? $V{KURANG_KOMUNIKASI} + 1 : $V{KURANG_KOMUNIKASI} + 0]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="KURANG_SUMBER_DAYA" class="java.lang.Integer">
		<variableExpression><![CDATA[$F{T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN} == 6 ? $V{KURANG_SUMBER_DAYA} + 1 : $V{KURANG_SUMBER_DAYA} + 0]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="KURANG_TEKAD" class="java.lang.Integer">
		<variableExpression><![CDATA[$F{T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN} == 7 ? $V{KURANG_TEKAD} + 1 : $V{KURANG_TEKAD} + 0]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="KURANG_PROSEDUR" class="java.lang.Integer">
		<variableExpression><![CDATA[$F{T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN} == 8 ? $V{KURANG_PROSEDUR} + 1 : $V{KURANG_PROSEDUR} + 0]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="KONDISI_TIDAK_AMAN" class="java.lang.Integer">
		<variableExpression><![CDATA[$F{T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN} == 9 ? $V{KONDISI_TIDAK_AMAN} + 1 : $V{KONDISI_TIDAK_AMAN} + 0]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="PELANGGARAN" class="java.lang.Integer">
		<variableExpression><![CDATA[$F{T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN} == 10 ? $V{PELANGGARAN} + 1 : $V{PELANGGARAN} + 0]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="HOUSEKEEPING_KURANG" class="java.lang.Integer">
		<variableExpression><![CDATA[$F{T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN} == 11 ? $V{HOUSEKEEPING_KURANG} + 1 : $V{HOUSEKEEPING_KURANG} + 0]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="LAINNYA_AR" class="java.lang.Integer">
		<variableExpression><![CDATA[$F{T_AREA_PERHATIAN_DETAIL_ID_TIPE_AREA_PERHATIAN} == 12 ? $V{LAINNYA_AR} + 1 : $V{LAINNYA_AR} + 0]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<columnHeader>
		<band height="20" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="802" height="20"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[4. AREA PERHATIAN/ AREAS OF CONCERN (Pilih yang sesuai/ Tick where applicable)]]></text>
			</staticText>
		</band>
	</columnHeader>
	<summary>
		<band height="130">
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" stretchType="RelativeToBandHeight" x="0" y="0" width="267" height="20"/>
				<textElement>
					<paragraph rightIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{PERILAKU_TIDAK_AMAN} > 0 ? (char) 10003 : "o") + " Perilaku tidak aman / Unsafe act"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" stretchType="RelativeToBandHeight" x="267" y="0" width="267" height="20"/>
				<textElement>
					<paragraph rightIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{KURANG_KOMUNIKASI} > 0 ? (char) 10003 : "o") + " Kurang komunikasi/ tanggung jawab tidak jelas / Poor communication/ unclear responsibilities"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" stretchType="RelativeToBandHeight" x="534" y="0" width="268" height="20"/>
				<textElement>
					<paragraph rightIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{KONDISI_TIDAK_AMAN} > 0 ? (char) 10003 : "o") + " Kondisi tidak aman / Unsafe condition/equipment"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="0" y="26" width="267" height="20"/>
				<textElement>
					<paragraph rightIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{KURANG_PENGAWASAN} > 0 ? (char) 10003 : "o") + " Kurang pengawasan/supervisi / Lact of control/supervision"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="267" y="26" width="267" height="20"/>
				<textElement>
					<paragraph rightIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{KURANG_SUMBER_DAYA} > 0 ? (char) 10003 : "o") + " Kurang sumber daya/kompetensi / Lack of resource/competency"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="534" y="26" width="268" height="20"/>
				<textElement>
					<paragraph rightIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{PELANGGARAN} > 0 ? (char) 10003 : "o") + " Pelanggaran / Violation"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="0" y="52" width="267" height="20"/>
				<textElement>
					<paragraph rightIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{KURANG_PENGETAHUAN} > 0 ? (char) 10003 : "o") + " Kurang pengetahuan/kesadaran / Lack of knowledge/awareness"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="267" y="52" width="267" height="20"/>
				<textElement>
					<paragraph rightIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{KURANG_TEKAD} > 0 ? (char) 10003 : "o") + " Kurang tekad / Lack of commitment"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="534" y="52" width="268" height="20"/>
				<textElement>
					<paragraph rightIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{HOUSEKEEPING_KURANG} > 0 ? (char) 10003 : "o") + " Housekeeping kurang / Poor housekeeping"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="0" y="78" width="267" height="20"/>
				<textElement>
					<paragraph rightIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{TIDAK_MEMENUHI_PERATURAN} > 0 ? (char) 10003 : "o") + " Tidak memenuhi peraturan perundang-undangan / Non compliance to laws/regulations"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="267" y="78" width="267" height="20"/>
				<textElement>
					<paragraph rightIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{KURANG_PROSEDUR} > 0 ? (char) 10003 : "o") + " Kurang prosedur / Lack of procedures"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="534" y="78" width="268" height="20"/>
				<textElement>
					<paragraph rightIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{LAINNYA_AR} > 0 ? (char) 10003 : "o") + " Lainnya / Others - training & sosialisasi"]]></textFieldExpression>
			</textField>
			<frame>
				<reportElement stretchType="RelativeToBandHeight" x="0" y="110" width="802" height="20"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<subreport>
					<reportElement x="0" y="0" width="802" height="20"/>
					<subreportParameter name="SUBREPORT_DIR">
						<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter name="ID_DIVPROSBU">
						<subreportParameterExpression><![CDATA[$P{ID_DIVPROSBU}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter name="YEAR">
						<subreportParameterExpression><![CDATA[$P{YEAR}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter name="MONTH">
						<subreportParameterExpression><![CDATA[$P{MONTH}]]></subreportParameterExpression>
					</subreportParameter>
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "lap_rangkuman_keg_sr4_detail.jasper"]]></subreportExpression>
				</subreport>
			</frame>
		</band>
	</summary>
</jasperReport>
